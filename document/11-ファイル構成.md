# 11. ファイル構成

[[10-API仕様|← 前へ]] | [[00-INDEX|目次]] | [[12-開発スケジュール|次へ →]]

---

## 11.1 プロジェクト構造

```
ai-avatar-system/
├── frontend/                    # フロントエンド (Vite + React)
│   ├── public/
│   │   └── assets/
│   │       ├── models/
│   │       │   └── avatar.vrm
│   │       └── animations/
│   │           ├── gestures/
│   │           │   ├── greeting.glb
│   │           │   ├── pointing.glb
│   │           │   ├── nodding.glb
│   │           │   ├── thinking.glb
│   │           │   ├── explaining.glb
│   │           │   ├── celebrating.glb
│   │           │   ├── shrugging.glb
│   │           │   └── agreeing.glb
│   │           └── idle/
│   │               ├── breathing.glb
│   │               ├── blink.glb
│   │               ├── lookAround.glb
│   │               ├── stretch.glb
│   │               ├── adjustClothes.glb
│   │               └── idleShift.glb
│   ├── src/
│   │   ├── components/
│   │   │   ├── Avatar/
│   │   │   │   ├── AvatarCanvas.tsx
│   │   │   │   ├── AvatarController.ts
│   │   │   │   ├── AnimationManager.ts
│   │   │   │   ├── IdleMotionController.ts
│   │   │   │   ├── LipSyncController.ts
│   │   │   │   ├── EmotionController.ts
│   │   │   │   └── types.ts
│   │   │   ├── Chat/
│   │   │   │   ├── ChatWindow.tsx
│   │   │   │   ├── MessageList.tsx
│   │   │   │   ├── MessageInput.tsx
│   │   │   │   └── Message.tsx
│   │   │   └── UI/
│   │   │       ├── LoadingSpinner.tsx
│   │   │       └── ErrorMessage.tsx
│   │   ├── hooks/
│   │   │   ├── useAvatar.ts
│   │   │   ├── useChat.ts
│   │   │   └── useAnimation.ts
│   │   ├── services/
│   │   │   ├── api.ts
│   │   │   └── audioService.ts
│   │   ├── utils/
│   │   │   ├── animationTriggers.ts
│   │   │   ├── visemeMapper.ts
│   │   │   └── constants.ts
│   │   ├── types/
│   │   │   └── index.ts
│   │   ├── App.tsx
│   │   └── main.tsx
│   ├── package.json
│   ├── tsconfig.json
│   ├── vite.config.ts
│   └── .env.example
│
├── backend/                     # バックエンド (FastAPI)
│   ├── app/
│   │   ├── api/
│   │   │   ├── routes/
│   │   │   │   ├── chat.py
│   │   │   │   └── health.py
│   │   │   └── dependencies.py
│   │   ├── services/
│   │   │   ├── openai_service.py
│   │   │   ├── tts_service.py
│   │   │   ├── lipsync_service.py
│   │   │   └── emotion_analyzer.py
│   │   ├── models/
│   │   │   ├── request.py
│   │   │   └── response.py
│   │   ├── core/
│   │   │   ├── config.py
│   │   │   └── logger.py
│   │   └── main.py
│   ├── tests/
│   ├── requirements.txt
│   ├── .env.example
│   └── README.md
│
├── tools/
│   └── rhubarb/
│       └── rhubarb              # Rhubarb実行ファイル
│
├── docker-compose.yml
├── .gitignore
└── README.md
```

## 11.2 重要ファイル説明

### フロントエンド

| ファイル | 説明 |
|---------|------|
| AvatarCanvas.tsx | [[04-アバター表示機能\|アバター表示]]のメインコンポーネント |
| AnimationManager.ts | [[05-アニメーション機能#アニメーション階層構造\|アニメーション制御]] |
| LipSyncController.ts | [[05-アニメーション機能#リップシンク\|リップシンク制御]] |
| EmotionController.ts | [[05-アニメーション機能#表情制御\|表情制御]] |
| IdleMotionController.ts | [[05-アニメーション機能#アイドルモーション\|アイドルモーション管理]] |
| ChatWindow.tsx | [[07-UI-UX要件\|チャットUI]] |

### バックエンド

| ファイル | 説明 |
|---------|------|
| chat.py | [[10-API仕様\|チャットAPI]]エンドポイント |
| openai_service.py | [[06-AI対話機能#OpenAI統合\|OpenAI連携]] |
| tts_service.py | [[06-AI対話機能#音声合成\|音声合成]] |
| lipsync_service.py | [[06-AI対話機能#リップシンク生成\|リップシンク生成]] |

## 11.3 環境変数

### frontend/.env

```bash
VITE_API_URL=http://localhost:8000
```

### backend/.env

```bash
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-4
GOOGLE_APPLICATION_CREDENTIALS=path/to/service-account.json
```

## 11.4 関連ドキュメント

- [[03-技術スタック|技術スタック]]
- [[02-システム構成|システム構成]]

---

**タグ**: #ファイル構成 #プロジェクト構造
**更新日**: 2025-10-30
